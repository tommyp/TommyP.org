---
const links = [
	{
		label: 'Blog',
		url: '/blog/'
	},
	{
		label: 'About',
		url: '/about/'
	},
	{
		label: 'Contact',
		url: '/contact/'
	}
];

const pathname = new URL(Astro.request.url).pathname;
const currentPath = pathname.slice(1); // remove the first "/"

const activeLink = links.find((link) => link.url === `/${currentPath}`);
---

<header>
	<ul>
		<li>
			<a href="/">Tommy Palmer</a>
		</li>
		{
			links.map((link) => (
				<li>
					<a class={link == activeLink ? "active" : ""} href={link.url}>{link.label}</a>
				</li>
			))
		}
	</ul>
</header>

<style>
	header {
		font-weight: bold;
		text-transform: uppercase;
		font-size: var(--text-lg);
		position: fixed;
		width: 100%;
	}

	h1 {
		margin: 0;
	}

	ul {
		display: flex;
		list-style: none;
		margin: 0;
		flex-direction: column;
		/* justify-items: stretch; */
	}

	li {
		flex: 1;
	}

	a {
		width: 100%;
		background-color: var(--button-background-color);
		display: flex;
		align-items: center;
		text-decoration: none;
		color: var(--button-text-color);
		padding: 0.25rem 0.5rem;
	}

	a:hover {
		background-color: var(--button-hover-background-color);
		color: var(--button-hover-text-color);
	}

	@media (min-width: 576px){
		ul {
			flex-direction: row;
		}

		li {
			border-right: 1px solid var(--border-color);
		}

		li:last-child {
			border-right: none;
		}

		a {
			background-color: var(--bg-color);
			color: var(--text-color);
		}

		header {
			border-bottom: 1px solid var(--border-color);
		}
	}
</style>
